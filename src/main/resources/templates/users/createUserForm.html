<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'','Registration form')}"
      xmlns:sec="http://www.w3.org/1999/xhtml">

<body>
<div class="row" style="margin-top: 50px" ;>
    <div class="col-lg-3 text-center"></div>
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">
                Register new user
            </div>
            <div class="card-body">

                <form th:action="@{${action}}" th:object="${user}" method="POST">


                    <div th:if="${registrationError != null}" class="alert alert-danger">
                        <p th:text="${registrationError}"></p>
                    </div>


                    <div class="form-group">
                        <label for="userName">Username</label>

                        <input type="text" class="form-control" th:field="*{userName}" placeholder="username">

                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>

                        <input type="password" class="form-control" th:field="*{password}" placeholder="password">

                    </div>

                    <div class="form-group">
                        <label for="matchingPassword">Repeat</label>

                        <input type="password" class="form-control" th:field="*{matchingPassword}"
                               placeholder="reapeat password">

                    </div>

                    <th:block th:if="${account_type =='customer_corporate'}">
                        <div class="form-group">
                            <label for="companyName">Company Name</label>

                            <input type="text" class="form-control" th:field="*{companyName}"
                                   placeholder="company name">

                        </div>

                        <div class="form-group">
                            <label for="vatNumber">VAT number</label>

                            <input type="text" class="form-control" th:field="*{vatNumber}"
                                   placeholder="vat number">

                        </div>

                    </th:block>

                    <div class="form-group">
                        <label th:if="${account_type =='customer_corporate'}" for="firstName">Contact person first
                            name</label>
                        <label th:if="${account_type =='customer_retail' or account_type =='provider'}"
                               for="firstName">First
                            name</label>
                        <input type="text" class="form-control" th:field="*{firstName}" placeholder="First name">

                    </div>

                    <div class="form-group">
                        <label th:if="${account_type =='customer_corporate'}" for="lastName">Contact person last
                            name</label>
                        <label th:if="${account_type =='customer_retail' or account_type =='provider'}"
                               for="lastName">Last
                            name</label>
                        <input type="text" class="form-control" th:field="*{lastName}" placeholder="Last name">

                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>

                        <input type="text" class="form-control" th:field="*{email}" placeholder="Email">

                    </div>

                    <div class="form-group">
                        <label for="mobile">mobile</label>

                        <input type="text" class="form-control" th:field="*{mobile}"
                               placeholder="mobile phone muber">

                    </div>

                    <div class="form-group">
                        <label for="street">street</label>

                        <input type="text" class="form-control" th:field="*{street}" placeholder="Street">

                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="postcode">Postocode</label>
                            <input type="text" class="form-control" th:field="*{postcode}" placeholder="Postcode">
                        </div>
                        <div class="form-group col-md-8">
                            <label for="city">City</label>
                            <input type="text" class="form-control" th:field="*{city}" placeholder="City">
                        </div>
                    </div>

                    <th:block th:if="${account_type =='provider'}">
                        <div class="form-group">
                            <label>Works:</label>
                            <ul>
                                <li th:each="work : ${allWorks}">
                                    <input type="checkbox" th:field="*{works}" th:value="${work.id}" />
                                    <label th:for="${#ids.prev('works')}"
                                           th:text="${work.name}">Heating</label>
                                </li>
                            </ul>
                        </div>
                    </th:block>

                    <button type="submit" class="btn btn-success">Register</button>


            </div>
            </form>
        </div>
    </div>
</div>
<div class="col-lg-3 text-center"></div>
</div>
</body>
</html>